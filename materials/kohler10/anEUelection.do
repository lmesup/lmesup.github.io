input str2 iso3166 str8 date electors nvoters nvalid ninvalid
BE 13.06.04 7552240 6857986 6489991 367995
CZ 11.06.04 8283485 2346010 2332862 13148
DK 13.06.04 4012663 1921541 1894346 27195
DE 13.06.04 61682394 26523104 25783678 739426
EE 13.06.04 873809 234485 232230 2255
EL 13.06.04 9909955 6283525 6122548 160977
ES 13.06.04 34706044 15666507 15512282 154209
FR 13.06.04 41518582 17752582 17167379 585203
CY 13.06.04 483311 350387 . .
LV 12.06.04 1397736 577879 . .
LT 13.06.04 2654311 1284050 1207070 76980
HU 13.06.04 8046247 3097657 3075450 20729
MT 12.06.04 304283 250691 . .
NL 10.06.04 12168878 4777121 4765677 11444
AT 13.06.04 6049129 2566639 2500610 66029
PL 13.06.04 29986109 6258550 6091531 167019
PT 13.06.04 8821456 3404782 3270116 134666
SI 13.06.04 1628918 461879 435869 25938
SK 13.06.04 4210463 714508 701595 12913
end

set obs `=_N + 1'

gen tot = .
foreach var of varlist electors nvoters nvalid ninvalid {
	replace tot = sum(`var')
	replace `var' = tot[_N] in -1
}

gen turnot = nvoters/electors
gen turnot_valid = nvalid/electors
gen pinvalid = ninvalid/electors






